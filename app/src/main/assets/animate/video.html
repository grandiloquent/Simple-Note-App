<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            margin: 0;
        }
    </style>
    <script src="https://fastly.jsdelivr.net/npm/p5@1.9.0/lib/p5.js"></script>
</head>

<body>
    <script>


        // function setup() {
        //     createCanvas(720, 720);
        //     startRecording();
        //     rad = height / 4; // compute radius for central circle
        //     background(0, 0); // clear the screen

        //     for (let i = 0; i < sines.length; i++) {
        //         sines[i] = PI; // start EVERYBODY facing NORTH
        //     }
        // }

        let circle = [];
        let square = [];
        let dodecagon = []

        let morph = [];


        let state = 0;

        function setup() {
            createCanvas(720, 720);
            startRecording();
            let circlePoints = [
                [160, 360],
                [160.26919555664062, 349.5305480957031],
                [161.07901000976562, 339.0890197753906],
                [162.43185424804688, 328.70391845703125],
                [164.32704162597656, 318.4039611816406],
                [166.76161193847656, 308.218017578125],
                [169.72979736328125, 298.1745910644531],
                [173.22373962402344, 288.3017272949219],
                [177.23333740234375, 278.6268310546875],
                [181.74658203125, 269.1763610839844],
                [186.74998474121094, 259.97601318359375],
                [192.2289276123047, 251.0506591796875],
                [198.16725158691406, 242.42410278320312],
                [204.54766845703125, 234.11923217773438],
                [211.3525390625, 226.15843200683594],
                [218.5624542236328, 218.5625457763672],
                [226.15834045410156, 211.3526153564453],
                [234.119140625, 204.5477294921875],
                [242.42401123046875, 198.1673126220703],
                [251.0505828857422, 192.22897338867188],
                [259.9759826660156, 186.75001525878906],
                [269.1763610839844, 181.74658203125],
                [278.6268005371094, 177.2333526611328],
                [288.30169677734375, 173.22373962402344],
                [298.174560546875, 169.7298126220703],
                [308.2179870605469, 166.76161193847656],
                [318.4039001464844, 164.32705688476562],
                [328.70391845703125, 162.43185424804688],
                [339.0890197753906, 161.07901000976562],
                [349.530517578125, 160.26919555664062],
                [359.9999694824219, 160],
                [370.46942138671875, 160.26918029785156],
                [380.9109191894531, 161.07901000976562],
                [391.2960510253906, 162.4318389892578],
                [401.59600830078125, 164.32704162597656],
                [411.7819519042969, 166.7615966796875],
                [421.8254089355469, 169.72979736328125],
                [431.6982421875, 173.22372436523438],
                [441.3731384277344, 177.2333221435547],
                [450.8236083984375, 181.74656677246094],
                [460.0239562988281, 186.74996948242188],
                [468.9493103027344, 192.22891235351562],
                [477.57586669921875, 198.16722106933594],
                [485.8807373046875, 204.54763793945312],
                [493.8415222167969, 211.35252380371094],
                [501.4374694824219, 218.5624542236328],
                [508.64739990234375, 226.15835571289062],
                [515.4523315429688, 234.119140625],
                [521.8327026367188, 242.4240264892578],
                [527.7710571289062, 251.05064392089844],
                [533.25, 259.9759826660156],
                [538.25341796875, 269.17633056640625],
                [542.7667236328125, 278.62677001953125],
                [546.7763671875, 288.3016662597656],
                [550.2701416015625, 298.1745300292969],
                [553.2384033203125, 308.2179260253906],
                [555.6729125976562, 318.4039611816406],
                [557.5680541992188, 328.703857421875],
                [558.9209594726562, 339.0890197753906],
                [559.7307739257812, 349.530517578125],
                [560, 359.99993896484375],
                [559.7307739257812, 370.4693603515625],
                [558.9209594726562, 380.9108581542969],
                [557.5680541992188, 391.2960510253906],
                [555.6729125976562, 401.5959777832031],
                [553.2384643554688, 411.78192138671875],
                [550.2702026367188, 421.8253479003906],
                [546.7763671875, 431.6982727050781],
                [542.7667236328125, 441.3731689453125],
                [538.2534790039062, 450.8236083984375],
                [533.2500610351562, 460.0239562988281],
                [527.7711181640625, 468.94927978515625],
                [521.832763671875, 477.5758972167969],
                [515.452392578125, 485.8807678222656],
                [508.6474609375, 493.841552734375],
                [501.4375305175781, 501.4374694824219],
                [493.8416442871094, 508.6473693847656],
                [485.880859375, 515.4523315429688],
                [477.57598876953125, 521.8327026367188],
                [468.94940185546875, 527.7710571289062],
                [460.0240783691406, 533.25],
                [450.82366943359375, 538.25341796875],
                [441.37322998046875, 542.7667236328125],
                [431.6983947753906, 546.7763061523438],
                [421.8255310058594, 550.2701416015625],
                [411.7820739746094, 553.2384033203125],
                [401.5960388183594, 555.6729125976562],
                [391.296142578125, 557.5680541992188],
                [380.9111022949219, 558.9209594726562],
                [370.46954345703125, 559.7307739257812],
                [360, 560],
                [349.53057861328125, 559.7307739257812],
                [339.0890808105469, 558.9209594726562],
                [328.7039489746094, 557.5680541992188],
                [318.4040222167969, 555.6729125976562],
                [308.218017578125, 553.2384643554688],
                [298.1745910644531, 550.2701416015625],
                [288.3017272949219, 546.7763671875],
                [278.62677001953125, 542.7667236328125],
                [269.1763916015625, 538.2534790039062],
                [259.9759826660156, 533.25],
                [251.05068969726562, 527.7711181640625],
                [242.42410278320312, 521.832763671875],
                [234.11923217773438, 515.452392578125],
                [226.15847778320312, 508.64752197265625],
                [218.5625, 501.4375],
                [211.35264587402344, 493.8416748046875],
                [204.54766845703125, 485.8807678222656],
                [198.1672821044922, 477.5759582519531],
                [192.22900390625, 468.949462890625],
                [186.75, 460.0240173339844],
                [181.74656677246094, 450.8236083984375],
                [177.2333526611328, 441.37322998046875],
                [173.22372436523438, 431.6982421875],
                [169.72984313964844, 421.8255310058594],
                [166.76161193847656, 411.7820129394531],
                [164.32704162597656, 401.5960388183594],
                [162.43185424804688, 391.296142578125],
                [161.07901000976562, 380.9109191894531],
                [160.26919555664062, 370.469482421875]
            ]
            /* [
                [560, 360],
                [559.725341796875, 370.4783935546875],
                [558.890380859375, 381.0385437011719],
                [557.5053100585938, 391.4903259277344],
                [555.5679321289062, 401.8709716796875],
                [553.0801391601562, 412.15399169921875],
                [550.06494140625, 422.25201416015625],
                [546.5007934570312, 432.2318115234375],
                [542.441162109375, 441.9465026855469],
                [537.8429565429688, 451.4980163574219],
                [532.7813110351562, 460.73046875],
                [527.2067260742188, 469.7356872558594],
                [521.1931762695312, 478.3923034667969],
                [514.708251953125, 486.749267578125],
                [507.8065185546875, 494.7339782714844],
                [500.4840393066406, 502.35247802734375],
                [492.77081298828125, 509.5724182128906],
                [484.6927185058594, 516.3704833984375],
                [476.25445556640625, 522.7418212890625],
                [467.5096740722656, 528.6466064453125],
                [458.442626953125, 534.0949096679688],
                [449.1253356933594, 539.0437622070312],
                [439.53582763671875, 543.5049438476562],
                [429.743896484375, 547.4454345703125],
                [419.7479553222656, 550.8668823242188],
                [409.5816650390625, 553.7567138671875],
                [399.305419921875, 556.0997314453125],
                [388.8671569824219, 557.90576171875],
                [378.4450988769531, 559.1475830078125],
                [367.8399963378906, 559.8462524414062],
                [357.3999938964844, 559.9830932617188],
                [346.8715515136719, 559.568603515625],
                [336.3595886230469, 558.5979614257812],
                [325.8807067871094, 557.0681762695312],
                [315.5606994628906, 555.0003662109375],
                [305.2737731933594, 552.366943359375],
                [295.2469482421875, 549.2274780273438],
                [285.30828857421875, 545.5293579101562],
                [275.6512756347656, 541.343017578125],
                [266.171630859375, 536.6245727539062],
                [256.9953308105469, 531.4352416992188],
                [248.07464599609375, 525.7489624023438],
                [239.48834228515625, 519.614990234375],
                [231.2222137451172, 513.0238037109375],
                [223.3258514404297, 506.0143127441406],
                [215.80401611328125, 498.5911560058594],
                [208.6884307861328, 490.7853698730469],
                [201.99288940429688, 482.6122741699219],
                [195.73956298828125, 474.0986633300781],
                [189.94314575195312, 465.2647705078125],
                [184.6239471435547, 456.14178466796875],
                [179.78952026367188, 446.7420654296875],
                [175.46568298339844, 437.1174011230469],
                [171.64569091796875, 427.250732421875],
                [168.3665313720703, 417.24176025390625],
                [165.60333251953125, 407.00994873046875],
                [163.40411376953125, 396.7431640625],
                [161.7301788330078, 386.25030517578125],
                [160.62428283691406, 375.7896728515625],
                [160.06797790527344, 365.213623046875],
                [160.06796264648438, 354.7864685058594],
                [160.62425231933594, 344.2104797363281],
                [161.73016357421875, 333.74981689453125],
                [163.4040985107422, 323.2569885253906],
                [165.60328674316406, 312.9902038574219],
                [168.36651611328125, 302.75836181640625],
                [171.6456756591797, 292.7493896484375],
                [175.4656524658203, 282.88275146484375],
                [179.78948974609375, 273.2580261230469],
                [184.62388610839844, 263.8583679199219],
                [189.94309997558594, 254.73533630371094],
                [195.73948669433594, 245.9014129638672],
                [201.99281311035156, 237.38790893554688],
                [208.68833923339844, 229.2147674560547],
                [215.80393981933594, 221.40887451171875],
                [223.3257293701172, 213.98582458496094],
                [231.2220916748047, 206.97630310058594],
                [239.48822021484375, 200.38510131835938],
                [248.07452392578125, 194.25112915039062],
                [256.9952392578125, 188.5648193359375],
                [266.1715393066406, 183.37547302246094],
                [275.65118408203125, 178.6570281982422],
                [285.3081970214844, 174.4706573486328],
                [295.2468566894531, 170.77255249023438],
                [305.273681640625, 167.63308715820312],
                [315.5606689453125, 164.9996337890625],
                [325.88067626953125, 162.93179321289062],
                [336.35955810546875, 161.40211486816406],
                [346.87152099609375, 160.4313507080078],
                [357.39996337890625, 160.0168914794922],
                [367.8399963378906, 160.15371704101562],
                [378.445068359375, 160.8523712158203],
                [388.8671569824219, 162.09425354003906],
                [399.305419921875, 163.90032958984375],
                [409.5816955566406, 166.24331665039062],
                [419.7480163574219, 169.1331024169922],
                [429.7439270019531, 172.55458068847656],
                [439.53582763671875, 176.49508666992188],
                [449.1253967285156, 180.9562530517578],
                [458.4426574707031, 185.9050750732422],
                [467.509765625, 191.35350036621094],
                [476.2545471191406, 197.2582244873047],
                [484.6927490234375, 203.6295623779297],
                [492.7709045410156, 210.4276580810547],
                [500.484130859375, 217.64756774902344],
                [507.8065185546875, 225.26609802246094],
                [514.708251953125, 233.25082397460938],
                [521.1932983398438, 241.60772705078125],
                [527.2066650390625, 250.26429748535156],
                [532.7813110351562, 259.2695617675781],
                [537.8429565429688, 268.5019836425781],
                [542.441162109375, 278.053466796875],
                [546.5007934570312, 287.7681579589844],
                [550.06494140625, 297.7479553222656],
                [553.0802001953125, 307.8459167480469],
                [555.5679931640625, 318.1290588378906],
                [557.5053100585938, 328.5096740722656],
                [558.890380859375, 338.96136474609375],
                [559.725341796875, 349.5215759277344],
                [560, 360]
              ]*/
            for (let j = 0; j < circlePoints.length; j++) {

                circle.push(createVector(circlePoints[j][0], circlePoints[j][1]));

                morph.push(createVector());
            }




            let dodecagonPoints = [
                [166.8000030517578, 349.64697265625],
                [166.8000030517578, 339.2938537597656],
                [166.8000030517578, 328.9408264160156],
                [166.8000030517578, 318.58782958984375],
                [166.8000030517578, 308.23480224609375],
                [171.96437072753906, 299.26702880859375],
                [177.14608764648438, 290.3040466308594],
                [182.32781982421875, 281.341064453125],
                [187.50953674316406, 272.3780822753906],
                [192.69131469726562, 263.4150085449219],
                [197.873046875, 254.4520263671875],
                [203.05477905273438, 245.48904418945312],
                [208.2364959716797, 236.52606201171875],
                [213.41827392578125, 227.56298828125],
                [218.60000610351562, 218.60000610351562],
                [227.56298828125, 213.41827392578125],
                [236.52606201171875, 208.2364959716797],
                [245.48904418945312, 203.0547637939453],
                [254.4520263671875, 197.873046875],
                [263.4150085449219, 192.69131469726562],
                [272.3780822753906, 187.50955200195312],
                [281.341064453125, 182.3278350830078],
                [290.30401611328125, 177.1461181640625],
                [299.2670593261719, 171.96437072753906],
                [308.23468017578125, 166.8000030517578],
                [318.5877685546875, 166.8000030517578],
                [328.9407958984375, 166.8000030517578],
                [339.29388427734375, 166.8000030517578],
                [349.64691162109375, 166.8000030517578],
                [360, 166.8000030517578],
                [370.35308837890625, 166.8000030517578],
                [380.70611572265625, 166.8000030517578],
                [391.0592041015625, 166.8000030517578],
                [401.4122314453125, 166.8000030517578],
                [411.76531982421875, 166.8000030517578],
                [420.7329406738281, 171.96437072753906],
                [429.69598388671875, 177.1461181640625],
                [438.658935546875, 182.3278350830078],
                [447.6219787597656, 187.50958251953125],
                [456.5849609375, 192.6912841796875],
                [465.5479736328125, 197.873046875],
                [474.5109558105469, 203.05477905273438],
                [483.4739990234375, 208.2365264892578],
                [492.43695068359375, 213.41824340820312],
                [501.3999938964844, 218.60000610351562],
                [506.5817565917969, 227.5630340576172],
                [511.7634582519531, 236.52601623535156],
                [516.9451904296875, 245.48904418945312],
                [522.126953125, 254.4520263671875],
                [527.3087158203125, 263.4150390625],
                [532.4904174804688, 272.3780212402344],
                [537.6721801757812, 281.341064453125],
                [542.8538818359375, 290.30401611328125],
                [548.03564453125, 299.2670593261719],
                [553.2000122070312, 308.23468017578125],
                [553.2000122070312, 318.5877685546875],
                [553.2000122070312, 328.9407958984375],
                [553.2000122070312, 339.29388427734375],
                [553.2000122070312, 349.64691162109375],
                [553.2000122070312, 360],
                [553.2000122070312, 370.35308837890625],
                [553.2000122070312, 380.70611572265625],
                [553.2000122070312, 391.0592041015625],
                [553.2000122070312, 401.4122314453125],
                [553.2000122070312, 411.76531982421875],
                [548.03564453125, 420.7329406738281],
                [542.8538818359375, 429.69598388671875],
                [537.6721801757812, 438.658935546875],
                [532.4904174804688, 447.6219787597656],
                [527.3087158203125, 456.5849609375],
                [522.126953125, 465.5479736328125],
                [516.9451904296875, 474.510986328125],
                [511.7634582519531, 483.4739990234375],
                [506.58172607421875, 492.4369812011719],
                [501.3999938964844, 501.3999938964844],
                [492.4369812011719, 506.58172607421875],
                [483.4739990234375, 511.7634582519531],
                [474.510986328125, 516.9451904296875],
                [465.5479736328125, 522.126953125],
                [456.5849609375, 527.3086547851562],
                [447.6219787597656, 532.4904174804688],
                [438.6589660644531, 537.6721801757812],
                [429.6959533691406, 542.8538818359375],
                [420.7329406738281, 548.03564453125],
                [411.7652893066406, 553.2000122070312],
                [401.4122314453125, 553.2000122070312],
                [391.0591735839844, 553.2000122070312],
                [380.70611572265625, 553.2000122070312],
                [370.3530578613281, 553.2000122070312],
                [360, 553.2000122070312],
                [349.6469421386719, 553.2000122070312],
                [339.29388427734375, 553.2000122070312],
                [328.9408264160156, 553.2000122070312],
                [318.5877685546875, 553.2000122070312],
                [308.2347106933594, 553.2000122070312],
                [299.26702880859375, 548.03564453125],
                [290.3040466308594, 542.8538818359375],
                [281.3410339355469, 537.6721801757812],
                [272.3780517578125, 532.4904174804688],
                [263.4150390625, 527.3087158203125],
                [254.45204162597656, 522.126953125],
                [245.48902893066406, 516.9451904296875],
                [236.52603149414062, 511.7634582519531],
                [227.56301879882812, 506.58172607421875],
                [218.6000213623047, 501.3999938964844],
                [213.41827392578125, 492.43701171875],
                [208.23654174804688, 483.4739990234375],
                [203.05479431152344, 474.510986328125],
                [197.87306213378906, 465.5480041503906],
                [192.69131469726562, 456.5849914550781],
                [187.50958251953125, 447.6219787597656],
                [182.32785034179688, 438.6589660644531],
                [177.1461181640625, 429.69598388671875],
                [171.96437072753906, 420.73297119140625],
                [166.8000030517578, 411.7652893066406],
                [166.8000030517578, 401.4122314453125],
                [166.8000030517578, 391.0591735839844],
                [166.8000030517578, 380.70611572265625],
                [166.8000030517578, 370.3530578613281],
                [166.8000030517578, 360]
            ]
            /*[
                [160, 360],
                [165, 351.33974596215563],
                [170, 342.6794919243112],
                [175, 334.01923788646684],
                [180, 325.3589838486225],
                [185, 316.6987298107781],
                [190, 308.0384757729337],
                [195, 299.3782217350893],
                [200, 290.71796769724494],
                [205, 282.0577136594005],
                [210, 273.39745962155615],
                [215, 264.7372055837118],
                [220, 256.07695154586736],
                [225, 247.416697508023],
                [230, 238.7564434701786],
                [235, 230.09618943233423],
                [240, 221.43593539448983],
                [245, 212.77568135664544],
                [250, 204.11542731880107],
                [255, 195.45517328095667],
          
                [260, 186.8000030517578],
                [270, 186.8000030517578],
                [280, 186.8000030517578],
                [290, 186.8000030517578],
                [300, 186.8000030517578],
                [310, 186.8000030517578],
                [320, 186.8000030517578],
                [330, 186.8000030517578],
                [340, 186.8000030517578],
                [350, 186.8000030517578],
                [360, 186.8000030517578],
                [370, 186.8000030517578],
                [380, 186.8000030517578],
                [390, 186.8000030517578],
                [400, 186.8000030517578],
                [410, 186.8000030517578],
                [420, 186.8000030517578],
                [430, 186.8000030517578],
                [440, 186.8000030517578],
                [450, 186.8000030517578],
          
                [460, 186.8000030517578],
                [465, 195.4602570896022],
                [470, 204.12051112744658],
                [475, 212.78076516529097],
                [480, 221.44101920313534],
                [485, 230.10127324097974],
                [490, 238.76152727882413],
                [495, 247.4217813166685],
                [500, 256.08203535451287],
                [505, 264.7422893923573],
                [510, 273.40254343020166],
                [515, 282.062797468046],
                [520, 290.72305150589045],
                [525, 299.3833055437348],
                [530, 308.0435595815792],
                [535, 316.7038136194236],
                [540, 325.364067657268],
                [545, 334.02432169511235],
                [550, 342.6845757329568],
                [555, 351.34482977080114],
          
                [560, 360],
                [555, 368.66025403784437],
                [550, 377.3205080756888],
                [545, 385.98076211353316],
                [540, 394.6410161513775],
                [535, 403.3012701892219],
                [530, 411.9615242270663],
                [525, 420.6217782649107],
                [520, 429.28203230275506],
                [515, 437.9422863405995],
                [510, 446.60254037844385],
                [505, 455.2627944162882],
                [500, 463.92304845413264],
                [495, 472.583302491977],
                [490, 481.2435565298214],
                [485, 489.9038105676658],
                [480, 498.56406460551017],
                [475, 507.22431864335454],
                [470, 515.884572681199],
                [465, 524.5448267190434],
                [460, 533.2000122070312],
                [450, 533.2000122070312],
                [440, 533.2000122070312],
                [430, 533.2000122070312],
                [420, 533.2000122070312],
                [410, 533.2000122070312],
                [400, 533.2000122070312],
                [390, 533.2000122070312],
                [380, 533.2000122070312],
                [370, 533.2000122070312],
                [360, 533.2000122070312],
                [350, 533.2000122070312],
                [340, 533.2000122070312],
                [330, 533.2000122070312],
                [320, 533.2000122070312],
                [310, 533.2000122070312],
                [300, 533.2000122070312],
                [290, 533.2000122070312],
                [280, 533.2000122070312],
                [270, 533.2000122070312],
          
                [260, 533.2000122070312],
                [255, 524.5397581691868],
                [250, 515.8795041313425],
                [245, 507.2192500934981],
                [240, 498.5589960556537],
                [235, 489.89874201780935],
                [230, 481.23848797996493],
                [225, 472.57823394212056],
                [220, 463.9179799042762],
                [215, 455.25772586643177],
                [210, 446.5974718285874],
                [205, 437.93721779074303],
                [200, 429.2769637528986],
                [195, 420.61670971505424],
                [190, 411.9564556772099],
                [185, 403.29620163936545],
                [180, 394.6359476015211],
                [175, 385.9756935636767],
                [170, 377.3154395258323],
                [160, 360]
          
              ]*/

            for (let i = 0; i < dodecagonPoints.length; i++) {

                dodecagon.push(createVector(dodecagonPoints[i][0], dodecagonPoints[i][1]));

            }
            let squarePoints = [
                [165.0000457763672, 351.33990478515625],
                [170.00009155273438, 342.6798095703125],
                [175.00009155273438, 334.01983642578125],
                [180.00013732910156, 325.3597717285156],
                [185.00018310546875, 316.6996765136719],
                [190.000244140625, 308.03961181640625],
                [195.00027465820312, 299.3795166015625],
                [200.00027465820312, 290.71954345703125],
                [205.00030517578125, 282.0594482421875],
                [210.0003662109375, 273.39935302734375],
                [215.0004119873047, 264.7392883300781],
                [220.00045776367188, 256.0791931152344],
                [225.00045776367188, 247.41921997070312],
                [230.00050354003906, 238.75914001464844],
                [235.00054931640625, 230.0990447998047],
                [240.00059509277344, 221.43896484375],
                [245.00064086914062, 212.7788848876953],
                [250.00067138671875, 204.1188507080078],
                [255.0006866455078, 195.4588165283203],
                [260.00146484375, 186.8000030517578],
                [270.0013427734375, 186.8000030517578],
                [280.00115966796875, 186.8000030517578],
                [290.00103759765625, 186.8000030517578],
                [300.0008544921875, 186.8000030517578],
                [310.000732421875, 186.8000030517578],
                [320.0006103515625, 186.8000030517578],
                [330.00042724609375, 186.8000030517578],
                [340.00030517578125, 186.8000030517578],
                [350.0001220703125, 186.8000030517578],
                [360, 186.8000030517578],
                [369.9998779296875, 186.8000030517578],
                [379.99969482421875, 186.8000030517578],
                [389.99957275390625, 186.8000030517578],
                [399.9993896484375, 186.8000030517578],
                [409.999267578125, 186.8000030517578],
                [419.9991455078125, 186.8000030517578],
                [429.99896240234375, 186.8000030517578],
                [439.99884033203125, 186.8000030517578],
                [449.9986572265625, 186.8000030517578],
                [459.99853515625, 186.8000030517578],
                [464.99932861328125, 195.4588165283203],
                [469.99932861328125, 204.1188507080078],
                [474.9993896484375, 212.7789306640625],
                [479.9993896484375, 221.43896484375],
                [484.99945068359375, 230.09906005859375],
                [489.99951171875, 238.75914001464844],
                [494.99951171875, 247.41915893554688],
                [499.99957275390625, 256.0792541503906],
                [504.99957275390625, 264.7392883300781],
                [509.9996337890625, 273.39935302734375],
                [514.9996948242188, 282.0594482421875],
                [519.9996948242188, 290.719482421875],
                [524.999755859375, 299.37957763671875],
                [529.999755859375, 308.03961181640625],
                [534.9998168945312, 316.6996765136719],
                [539.9998779296875, 325.3597717285156],
                [544.9998779296875, 334.0198059082031],
                [549.9999389648438, 342.67987060546875],
                [554.9999389648438, 351.33990478515625],
                [560, 360],
                [554.9999389648438, 368.66009521484375],
                [549.9999389648438, 377.32012939453125],
                [544.9998779296875, 385.980224609375],
                [539.9998779296875, 394.6402587890625],
                [534.9998168945312, 403.3003234863281],
                [529.999755859375, 411.9604187011719],
                [524.999755859375, 420.6204528808594],
                [519.9996948242188, 429.280517578125],
                [514.9996948242188, 437.9405822753906],
                [509.9996337890625, 446.60064697265625],
                [504.9996032714844, 455.2607116699219],
                [499.99957275390625, 463.9207763671875],
                [494.99951171875, 472.5808410644531],
                [489.9994812011719, 481.24090576171875],
                [484.99945068359375, 489.9009704589844],
                [479.9994201660156, 498.56103515625],
                [474.9993896484375, 507.2210693359375],
                [469.99932861328125, 515.8811645507812],
                [464.9992980957031, 524.5411987304688],
                [459.99853515625, 533.2000122070312],
                [449.9986877441406, 533.2000122070312],
                [439.99884033203125, 533.2000122070312],
                [429.99896240234375, 533.2000122070312],
                [419.9991149902344, 533.2000122070312],
                [409.999267578125, 533.2000122070312],
                [399.9994201660156, 533.2000122070312],
                [389.99957275390625, 533.2000122070312],
                [379.99969482421875, 533.2000122070312],
                [369.9998474121094, 533.2000122070312],
                [360, 533.2000122070312],
                [350.0001525878906, 533.2000122070312],
                [340.00030517578125, 533.2000122070312],
                [330.00042724609375, 533.2000122070312],
                [320.0005798339844, 533.2000122070312],
                [310.000732421875, 533.2000122070312],
                [300.0008850097656, 533.2000122070312],
                [290.00103759765625, 533.2000122070312],
                [280.00115966796875, 533.2000122070312],
                [270.0013122558594, 533.2000122070312],
                [260.00146484375, 533.2000122070312],
                [255.00070190429688, 524.5411987304688],
                [250.0006561279297, 515.8811645507812],
                [245.00062561035156, 507.2210693359375],
                [240.00057983398438, 498.56103515625],
                [235.00054931640625, 489.90093994140625],
                [230.00051879882812, 481.24090576171875],
                [225.00047302246094, 472.5808410644531],
                [220.0004425048828, 463.9207763671875],
                [215.0004119873047, 455.2607116699219],
                [210.0003662109375, 446.60064697265625],
                [205.00033569335938, 437.9405822753906],
                [200.0002899169922, 429.280517578125],
                [195.00025939941406, 420.6204528808594],
                [190.00021362304688, 411.96038818359375],
                [185.00018310546875, 403.3003234863281],
                [180.00015258789062, 394.6402587890625],
                [175.00010681152344, 385.9801940917969],
                [170.0000762939453, 377.32012939453125],
                [165.00003051757812, 368.6600646972656],
                [160, 360]
            ]
            for (let i = 0; i < squarePoints.length; i++) {

                square.push(createVector(squarePoints[i][0], squarePoints[i][1]));

            }
        }

        function draw() {
            clear();
            background(0,0);

            // We will keep how far the vertices are from their target
            let totalDistance = 0;

            // Look at each vertex
            for (let i = 0; i < circle.length; i++) {
                let v1;
                // Are we lerping to the circle or square?
                if (state == 2) {
                    v1 = circle[i];
                } else
                    if (state == 1) {
                        v1 = dodecagon[i];
                    } else {
                        v1 = square[i];
                    }
                // Get the vertex we will draw
                let v2 = morph[i];
                // Lerp to the target
                v2.lerp(v1, 0.1);
                // Check how far we are from target
                totalDistance += p5.Vector.dist(v1, v2);
            }

            // If all the vertices are close, switch shape
            if (totalDistance < 0.1) {
                if (state == 0) {
                    state = 1;
                } else if (state == 1) {
                    state = 2;
                } else {
                    state = 0;
                }
            }

            // Draw relative to center
            //translate(width / 2, height / 2);
            strokeWeight(4);
            // Draw a polygon that makes up all the vertices
            beginShape();
            noFill();
            stroke("#2196F3");

            morph.forEach(v => {
                vertex(v.x, v.y);
            });
            endShape(CLOSE);
        }

        const startRecording = () => {
            const canvas = document.querySelector("canvas");
            const data = []; // here we will store our recorded media chunks (Blobs)
            const stream = canvas.captureStream(30); // records the canvas in real time at our preferred framerate 30 in this case.
            const mediaRecorder = new MediaRecorder(stream, {
                mimeType: "video/webm; codecs=vp9"
            }); // init the recorder
            // whenever the recorder has new data, we will store it in our array
            mediaRecorder.ondataavailable = (e) => data.push(e.data);
            // only when the recorder stops, we construct a complete Blob from all the chunks
            mediaRecorder.onstop = (e) =>
                downloadVideo(new Blob(data, { type: "video/webm;codecsvp9" }));
            mediaRecorder.start();
            setTimeout(() => {
                mediaRecorder.stop();
            }, 20000); // stop recording in 6s
        };

        const downloadVideo = async (blob) => {
            const div = document.querySelector("body");
            var url = URL.createObjectURL(blob);
            var a = document.createElement("a");
            a.href = url;
            a.download = "test.webm";
            a.className = "button";
            a.innerText = "click here to download";
            div.appendChild(a);
        };
        // function keyReleased() {
        //     if (key == ' ') {
        //         trace = !trace;
        //         background(255);
        //     }
        // }
// ffmpeg -vcodec libvpx-vp9 -i 1.webm -c:v qtrle -pix_fmt yuva420p output.mov
    </script>
</body>

</html>